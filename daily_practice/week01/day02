        
# Day 02 â€” Services & Tags

## ðŸ”¹ ansible â€” install & enable nginx

---
- name: install and start nginx on luckypathnex
  hosts: all
  become: yes

  tasks:
    - name: install nginx
      yum:
        name: nginx
        state: present

    - name: enable nginx
      service:
        name: nginx
        state: started
        enabled: yes


## ðŸ”¹ terraform â€” ec2 with tags (r5.2xlarge)

provider "aws" {
  region = "us-east-1"
}

resource "aws_instance" "luckypathnexEC2" {
  ami           = "ami-0abcd1234abcd1234"
  instance_type = "r5.2xlarge"

  tags = {
    name        = "luckypathnex-Server"
    environment = "training"
    owner       = "luckypathnex_student"
  }
}


## ðŸ”¹ kubernetes â€” deployment with 2 replicas

apiVersion: apps/v1
kind: deployment
metadata:
  name: luckypathnex-deployment
spec:
  replicas: 2
  selector:
    matchLabels:
      app: luckypathnex-app
  template:
    metadata:
      labels:
        app: luckypathnex-app
    spec:
      containers:
        - name: app
          image: nginx
          ports:
            - containerPort: 80


## ðŸ”¹ shell script â€” disk Usage

#!/bin/bash
df -h


# maven build
## ðŸ”¹ jenkins pipeline â€” maven Build
we will learn how to **compile, test, and package a Java project** using Maven.

pipeline {
    agent any
    tools {
        maven 'maven-3.8.1'
        jdk 'jdk-17'
    }
    stages {
        stage('checkout') {
            steps {
                git url: 'git@github.com:luckypathnex/luckypathnex-dec2025_lucky_pathnex.git'
            }
        }
        stage('compile') {
            steps {
                sh 'mvn clean compile'
            }
        }
        stage('test') {
            steps {
                sh 'mvn test'
            }
        }
        stage('package') {
            steps {
                sh 'mvn package'
            }
        }
    }
}

## ðŸ”¹ gitLab ci â€” maven build

stages:
  - build
  - test
  - package

maven-build:
  stage: build
  image: maven:3.8.1-jdk-17
  script:
    - git clone git@github.com:luckypathnex/luckypathnex-dec2025_lucky_pathnex.git
    - cd luckypathnex/luckypathnex-dec2025_lucky_pathnex.git
    - mvn clean compile

maven-test:
  stage: test
  image: maven:3.8.1-jdk-17
  script:
    - cd luckypathnex/luckypathnex-dec2025_lucky_pathnex.git
    - mvn test

maven-package:
  stage: package
  image: maven:3.8.1-jdk-17
  script:
    - cd luckypathnex/luckypathnex-dec2025_lucky_pathnex.git
    - mvn package

